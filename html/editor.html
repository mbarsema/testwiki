<!doctype html>
<html>
<head>
	<link rel="stylesheet" type="text/css" href="../resources/styles/editor.css">
	<script src="../resources/jquery/jquery.min.js" type="text/javascript"></script>
	<script src="../resources/tinymce/tinymce.js" type="text/javascript"></script>
	<script src="../resources/js/editor.js" type="text/javascript"></script>
</head>
<body>
	<div class="header">Edit Article</div>
	<div id="editor">
		<div id="richtext-container">
			<textarea id="content" name="content" class="richtext"></textarea>
		</div>
		<div class="header">Image Gallery</div>
		<div id="images" class="picker"></div>
		<iframe id="form_target" name="form_target" style="display:none"></iframe>
		<form   id="imageUpload" 
				action="/upload/image" 
				target="form_target" 
				method="POST" 
				enctype="multipart/form-data" 
				style="width:0px;height:0;overflow:hidden">
			<input id="image" name="image" type="file" onchange="uploadImage(this);">
		</form>
	</div>
<script type="text/javascript">
// TODO: This is bad as a global. Fix it. For now we're using this to hold the original data from disk.
var originalContent = '';

createRichText('.richtext', '100%', '720px');
getContent();
getImages();
</script>

</body>
</html>